<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
    xmlns:pro="http://www.liquibase.org/xml/ns/pro"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd
        http://www.liquibase.org/xml/ns/pro
        http://www.liquibase.org/xml/ns/pro/liquibase-pro-latest.xsd">
<changeSet id="0004-create-voto" author="rodrigolicks">
<sql splitStatements="true">
CREATE TABLE public.voto (
	id int8 GENERATED BY DEFAULT AS IDENTITY( INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START 1 CACHE 1 NO CYCLE) NOT NULL,
	associado_id int4 NOT NULL,
	sessao_id int4 NOT NULL,
	CONSTRAINT voto_pkey PRIMARY KEY (id)
);


-- public.voto foreign keys

ALTER TABLE public.voto ADD CONSTRAINT fk2g42xm45pt8fkud30a03j1kjs FOREIGN KEY (associado_id) REFERENCES public.associado(id);
ALTER TABLE public.voto ADD CONSTRAINT fkffeg0bfva5yuqkw88dfii1nn5 FOREIGN KEY (sessao_id) REFERENCES public.sessao(id);
</sql>
</changeSet>
</databaseChangeLog>